@import "../../../styles/colors"

.main-container
  width: 100vw
  height: auto
  min-height: 100vh
  position: relative
  background-color: $color-black
  padding: 10px

  .wallpaper-container
    position: relative
    height: auto
    min-height: calc(100vh - 20px)
    border-radius: 10px
    overflow: hidden

    .wallpaper-wrapper
      position: absolute
      width: 100%
      height: 100%
      left: 0
      bottom: 0px
      perspective: 200px
      overflow: hidden
      background-image: linear-gradient(to bottom, $color-black-full, $color-1-3)

      $grid-line: 1px
      $dot-line: 4px

      .grid
        position: absolute
        top: 0
        left: 0
        right: 0
        bottom: 0
        width: 100%
        height: 100%
        transform: rotateX(60deg)

        .vertical
          .line
            position: absolute
            top: 0
            left: 0
            bottom: 0
            width: $grid-line
            background-color: $color-1-2
            box-shadow: 0 0 5px $color-1-1, 0 0 10px $color-1-1, 0 0 20px $color-1-1
            -webkit-backface-visibility: hidden

            &:nth-child(1)
              left: 10%

            &:nth-child(2)
              left: 20%

            &:nth-child(3)
              left: 30%

            &:nth-child(4)
              left: 40%

            &:nth-child(5)
              left: 50%

            &:nth-child(6)
              left: 60%

            &:nth-child(7)
              left: 70%

            &:nth-child(8)
              left: 80%

            &:nth-child(9)
              left: 90%

            &:nth-child(10)
              left: 100%
              margin-left: -1px

        .horizontal
          .line
            position: absolute
            top: 0
            left: 0
            right: 0
            height: $grid-line
            z-index: 2
            background-color: $color-1-2
            box-shadow: 0 0 5px $color-1-1, 0 0 10px $color-1-1, 0 0 20px $color-1-1
            -webkit-backface-visibility: hidden

            &:nth-child(1)
              top: 10%
              // opacity: 0.2

            &:nth-child(2)
              top: 20%
              // opacity: 0.3

            &:nth-child(3)
              top: 30%
              // opacity: 0.4

            &:nth-child(4)
              top: 40%
              // opacity: 0.5

            &:nth-child(5)
              top: 50%
              // opacity: 0.6

            &:nth-child(6)
              top: 60%
              // opacity: 0.7

            &:nth-child(7)
              top: 70%
              // opacity: 0.8

            &:nth-child(8)
              top: 80%
              // opacity: 0.9

            &:nth-child(9)
              top: 90%
              // opacity: 0.95

            &:nth-child(10)
              top: 100%
              margin-top: -1px
              // opacity: 1

            &:nth-child(11)
              // opacity: 0.05

        .dot
          position: absolute
          background: $color-1-5
          box-shadow: 0 0 5px $color-1-6, 0 0 10px $color-1-6, 0 0 15px $color-1-6
          width: $dot-line
          height: $dot-line
          top: 100%
          border-radius: 50%
          -webkit-backface-visibility: hidden

          &:nth-child(1)
            left: calc(10% - 1.5px)
            animation: moveDot 2.5s infinite

          &:nth-child(2)
            left: calc(20% - 1.5px)
            animation: moveDot 15s infinite

          &:nth-child(3)
            left: calc(30% - 1.5px)
            animation: moveDot 17.5s infinite

          &:nth-child(4)
            left: calc(40% - 1.5px)
            animation: moveDot 25s infinite

          &:nth-child(5)
            left: calc(50% - 1.5px)
            animation: moveDot 12.5s infinite

          &:nth-child(6)
            left: calc(60% - 1.5px)
            animation: moveDot 7.5s infinite

          &:nth-child(7)
            left: calc(70% - 1.5px)
            animation: moveDot 20s infinite

          &:nth-child(8)
            left: calc(80% - 1.5px)
            animation: moveDot 10s infinite

          &:nth-child(9)
            left: calc(90% - 1.5px)
            animation: moveDot 5s infinite

  .desktop-wrapper
    display: flex
    flex-direction: column
    align-items: center
    justify-content: space-between
    height: calc(100vh - 20px)
    border-radius: 10px
    overflow: hidden

    .topbar, .dock, .desktop
      z-index: 1
      width: 100%

    .desktop
      flex-grow: 1
      min-height: 0
      display: flex
      height: 100%
      width: 100%
      position: relative

      .desktop-items-container
        max-width: 100%
        height: 100%
        display: flex
        flex-direction: column
        align-items: center
        justify-content: flex-start
        flex-wrap: wrap

      .window-overlay
        position: absolute
        width: 100%
        height: 100%

        .window
          position: absolute
          top: 50%
          left: 50%
          transform: translate(-50%, -50%)

          &.maximized
            width: 100%
            height: 100%

@keyframes moveDot
  0%
    top: 100%
    opacity: 1
  100%
    top: 0%
    opacity: 0
